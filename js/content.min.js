chrome.runtime.onMessage.addListener(function(c,b){var g=0;var a="";if(c.command==="xpathspy"){if(c.xpath.match(/^(\/)/)===null){a="Please input valid XPath!";
console.error(a);}else{try{var d=document.evaluate(c.xpath,document,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);g=d.snapshotLength;if(g>0){a="There "+(g>1?"are "+g+" elements":"is only one element")+" which XPath likes '"+c.xpath+"' in this page.";
console.log(a);}else{a="There is no such element in this page!";console.error(a);}}catch(f){a=f.message.substr(f.message.indexOf("The string"));}}chrome.runtime.sendMessage({message:"xpathspy",result:a});
}});